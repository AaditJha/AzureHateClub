// python -m grpc_tools.protoc -I. --python_out=. --grpc_python_out=. reducer.proto    
syntax = "proto3";

package reducer;

service Reducer {
    rpc Reduce(ReduceRequest) returns (ReduceResponse);
}

message ReduceRequest {
    int32 reducer_id = 1;
    int32 num_mappers = 2;
}

message ReduceResponse {
    repeated int32 centroid_ids = 1;
    repeated Point updated_centroids = 2;
}

message Point {
    repeated float dim_val = 1;
}